"""This module is needed to decouple descriptor from model implementation.
Avoid import loop if you need to import descriptor from another module"""

class HistoricalObjectDescriptor(object):
    def __init__(self, model):
        self.model = model

    def __get__(self, instance, owner):
        values = (getattr(instance, f.attname) for f in self.model._meta.fields)
        return self.model(*values)
